{% extends "base.html" %}

{% block content %}
    <h1>Students</h1>
    <div>
        <a href="{{ url_for('add_student') }}">Add Student</a>
    </div>
    <hr>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <ul>
        {% for message in messages %}
        <li>{{ message }}</li>
        {% endfor %}
    </ul>
    {% endif %}
    {% endwith %}
    <table>
      <tr>
        <th>ID Number</th>
        <th>Last Name</th>
        <th>First Name</th>
        <th>Course</th>
        <th>Year</th>
        <th>Gender</th>
      </tr>
      {% for student in students %}
      <tr>
        <td>{{ student.id }}</td>
        <td>{{ student.lastname }}</td>
        <td>{{ student.firstname }}</td>
        <td>{{ student.course }}</td>
        <td>{{ student.year }}</td>
        <td>{{ student.gender.name }}</td>
        <td><a href="{{ url_for('view_student', id=student.id) }}">View</a></td>
      </tr>
      {% endfor %}
    </table>
{% endblock %}